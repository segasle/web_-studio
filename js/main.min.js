$(document).ready(function(){$(".responsive").slick({dots:!0,infinite:!1,speed:300,slidesToShow:3,slidesToScroll:3,adaptiveHeight:!0,responsive:[{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:2,rows:1}},{breakpoint:767,settings:{slidesToShow:1,rows:1,slidesToScroll:1}}]}),$(".slick").slick({slidesToShow:2,slidesToScroll:1,dots:!0,arrow:!1,infinite:!1,vertical:!0,centerMode:!0,responsive:[{breakpoint:767,settings:{slidesToShow:1,arrow:!0,vertical:!1,centerMode:!1}}]}),$(".comments-slide").slick({autoplay:!0})}),$(document).ready(function(){var a=document.querySelectorAll(".form-file");Array.prototype.forEach.call(a,function(a){var e=a.nextElementSibling,i=e.innerHTML;a.addEventListener("change",function(a){var s="";(s=this.files&&1<this.files.length?(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):a.target.value.split("\\").pop())?e.querySelector(".field__file-fake").innerHTML=s:e.innerHTML=i}),a.addEventListener("focus",function(){a.classList.add("has-focus")}),a.addEventListener("blur",function(){a.classList.remove("has-focus")})})}),$(function(){$("body").css({padding:0,margin:0});function a(){$(".ndra-container").css({position:"relative"});var a=$("body").height(),s=$(window).height()-a,e=$(".ndra-container").height()+s,i=$("<div>").appendTo(".ndra-container"),e=Math.max(i.position().top,e);i.remove(),$(".ndra-container").height(e)}setInterval(a,1e3),$(window).resize(a),a(),$("#btnMenu").on("click",function(a){a.preventDefault,$(this).hasClass("fa-align-justify")?$(this).toggleClass("fa-times").removeClass("fa-align-justify"):$(this).toggleClass("fa-align-justify").removeClass("fa-times")}),$(".phone-number").each(function(){$(this).mask("+7(999)999-99-99")}),$("#ajaxBut").click(function(a){a.preventDefault(),$(".name").removeClass("is-valid").removeClass("is-invalid"),$(".phone-number").removeClass("is-valid").removeClass("is-invalid"),$(".email").removeClass("is-valid").removeClass("is-invalid"),$("#ansName").html(""),$("#ansPhone").html(""),$("#ansEmail").html(""),$("#ajaxAnsw").html("");$("#ajaxBut").closest("form");var s=document.getElementsByClassName("ask-form"),e=new FormData(s[0]);$.ajax({type:"POST",url:"/functions/senddata.php",data:e,dataType:"json",contentType:!1,cache:!1,processData:!1,success:function(a){0==a||4==a?($("#ajaxAnsw").html('<div class="alert alert-danger">Ошибка отправки формы</div>'),$(".name").addClass("is-invalid"),$(".phone-number").addClass("is-invalid"),$(".email").addClass("is-invalid"),$(".topic").addClass("is-invalid"),$(".message").addClass("is-invalid")):1==a?($("#ajaxAnsw").html('<div class="alert-success">Спасибо! Ваша заявка отправлена!</div>').delay(7e3).fadeOut(300),$(".name").val(""),$(".phone-number").val(""),$(".email").val(""),$(".topic").val(""),$(".message").val(""),$(".form-control-file").val("")):2==a?($(".name").addClass("is-invalid"),$("#ansName").html('<div class="d-block invalid-feedback">Введите имя</div>'),$(".phone-number").addClass("is-valid"),$(".email").addClass("is-valid")):23==a?($(".name").addClass("is-invalid"),$("#ansName").html('<div class="d-block invalid-feedback">Введите имя</div>'),$(".phone-number").addClass("is-invalid"),$("#ansPhone").html('<div class="d-block invalid-feedback">Введите телефон</div>'),$(".email").addClass("is-invalid"),$("#ansEmail").html('<div class="d-block invalid-feedback">или электронную почту</div>')):3==a?($(".name").addClass("is-valid"),$(".phone-number").addClass("is-invalid"),$("#ansPhone").html('<div class="d-block invalid-feedback">Введите телефон</div>'),$(".email").addClass("is-invalid"),$("#ansEmail").html('<div class="d-block invalid-feedback">или электронную почту</div>')):5==a?($("#ajaxFile").html('<div class="alert alert-danger">Файл не должен превышать 3Мб</div>'),$(".name").addClass("is-valid"),$(".phone-number").addClass("is-valid"),$(".email").addClass("is-valid"),$(".topic").addClass("is-valid"),$(".message").addClass("is-valid")):6==a?($("#ajaxFile").html('<div class="alert alert-danger">Неверный формат файла(jpeg, jpg, png, xlsx, docx)</div>'),$(".name").addClass("is-valid"),$(".phone-number").addClass("is-valid"),$(".email").addClass("is-valid"),$(".topic").addClass("is-valid"),$(".message").addClass("is-valid")):7==a?($("#ajaxFile").html('<div class="alert alert-danger">Ошибка загрузки файла</div>'),$(".name").addClass("is-valid"),$(".phone-number").addClass("is-valid"),$(".email").addClass("is-valid"),$(".topic").addClass("is-valid"),$(".message").addClass("is-valid")):$("#ajaxAnsw").html('<div class="alert alert-danger">Ошибка отправки формы</div>')},error:function(a,s){$("#ajaxAnsw").html(a.responseText)}})}),$("#ajaxComm").click(function(a){a.preventDefault(),$(".name").removeClass("is-valid").removeClass("is-invalid"),$(".message").removeClass("is-valid").removeClass("is-invalid"),$(".email").removeClass("is-valid").removeClass("is-invalid"),$("#ansName").html(""),$("#ansMessage").html(""),$("#ajaxAnsw").html("");var s=document.getElementsByClassName("comment-form"),e=new FormData(s[0]);$.ajax({type:"POST",url:"/functions/sendcomm.php",data:e,dataType:"json",contentType:!1,cache:!1,processData:!1,success:function(a){0==a||4==a?($("#ajaxAnsw").html('<div class="alert alert-danger">Ошибка отправки формы</div>'),$(".name").addClass("is-invalid"),$(".message").addClass("is-invalid")):1==a?($("#ajaxAnsw").html('<div class="alert alert-success">Успешно отправлено! Ваш отзыв будет опубликован после прохожднеия модерации.</div>').delay(3200).fadeOut(300),$(".name").val(""),$(".message").val("")):2==a?($(".name").addClass("is-invalid"),$("#ansName").html('<div class="d-block invalid-feedback">Введите имя</div>'),$(".message").addClass("is-valid")):23==a?($(".name").addClass("is-invalid"),$("#ansName").html('<div class="d-block invalid-feedback">Введите имя</div>'),$(".message").addClass("is-invalid"),$("#ansMessage").html('<div class="d-block invalid-feedback">Введите сообщение</div>')):3==a?($(".name").addClass("is-valid"),$(".message").addClass("is-invalid"),$("#ansMessage").html('<div class="d-block invalid-feedback">Введите сообщение</div>')):$("#ajaxAnsw").html('<div class="alert alert-danger">Ошибка отправки формы</div>')},error:function(a,s){$("#ajaxAnsw").html(a.responseText)}})})});